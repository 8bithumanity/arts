(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2272e291"],{"0ac5":function(t,e,a){},2683:function(t,e,a){"use strict";a("d991")},4515:function(t,e,a){},"4be9":function(t,e,a){"use strict";a("e78b")},"4d4c":function(t,e,a){},"540d":function(t,e,a){"use strict";a("0ac5")},"824b":function(t,e,a){"use strict";a("4515")},b012:function(t,e){function a(t,e,a){var i,s,r,c,o;function n(){var l=Date.now()-c;l<e&&l>=0?i=setTimeout(n,e-l):(i=null,a||(o=t.apply(r,s),r=s=null))}null==e&&(e=100);var l=function(){r=this,s=arguments,c=Date.now();var l=a&&!i;return i||(i=setTimeout(n,e)),l&&(o=t.apply(r,s),r=s=null),o};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(o=t.apply(r,s),r=s=null,clearTimeout(i),i=null)},l}a.debounce=a,t.exports=a},cae6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products-list"},[a("ProductsSidebar",{attrs:{search:t.filters.search,categories:t.filters.categories},on:{"update:search":function(e){return t.$set(t.filters,"search",e)},"update:categories":function(e){return t.$set(t.filters,"categories",e)}}}),a("transition",{attrs:{name:"fade",mode:"out-in"}},[!t.loading&&t.products.length?a("div",{key:"products",staticClass:"flex-column"},[a("div",{staticClass:"products m-b-20"},t._l(t.products,(function(t){return a("ProductCard",{key:t.id,attrs:{product:t}})})),1),a("Pagination",{attrs:{pagination:t.pagination},on:{"update:pagination":[function(e){t.pagination=e},function(e){return t.getProducts()}]}})],1):t.loading?a("div",{key:"loading",staticClass:"products"},t._l(6,(function(t){return a("ProductCardPlaceholder",{key:t})})),1):a("div",{staticClass:"no-products"},[t._v("Nothing found :(")])])],1)},s=[],r=a("b012"),c=a.n(r),o=(a("4ec3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("SidebarWrapper",[a("div",{staticClass:"search"},[a("vs-input",{attrs:{placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("CategorySelect",{model:{value:t.selected_categories,callback:function(e){t.selected_categories=e},expression:"selected_categories"}})],1)}),n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-select m-t-10"},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?a("CategorySelectPlaceholder",{key:"loading"}):t.categories.length?a("div",{key:"categories",staticClass:"categories"},t._l(t.categories,(function(e){return a("div",{key:e.id,staticClass:"category"},[a("vs-checkbox",{attrs:{val:e.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._v(t._s(e.name))])],1)})),0):a("div",{staticClass:"no-categories"},[t._v("No categories found")])],1)],1)},d=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-select-placeholder"},[a("div",{staticClass:"flex-column gap-10"},[a("div",{staticClass:"flex gap-10"},[a("PlaceholderLine",{attrs:{width:"22px",height:"22px"}}),a("PlaceholderLine",{attrs:{width:"60%",height:"22px"}})],1),a("div",{staticClass:"flex gap-10"},[a("PlaceholderLine",{attrs:{width:"22px",height:"22px"}}),a("PlaceholderLine",{attrs:{width:"70%",height:"22px"}})],1),a("div",{staticClass:"flex gap-10"},[a("PlaceholderLine",{attrs:{width:"22px",height:"22px"}}),a("PlaceholderLine",{attrs:{width:"40%",height:"22px"}})],1),a("div",{staticClass:"flex gap-10"},[a("PlaceholderLine",{attrs:{width:"22px",height:"22px"}}),a("PlaceholderLine",{attrs:{width:"55%",height:"22px"}})],1)])])},h=[],p=a("c051"),g={name:"CategorySelectPlaceholder",components:{PlaceholderLine:p["a"]}},f=g,v=a("2877"),m=Object(v["a"])(f,u,h,!1,null,"f26c4086",null),C=m.exports,_=[{id:1,name:"characters"},{id:2,name:"celebrities"},{id:3,name:"people"}],P={name:"CategorySelect",props:{value:Array,default:()=>[]},components:{CategorySelectPlaceholder:C},created(){this.getCategories()},watch:{selected(t){this.$emit("input",t)}},data(){return{loading:!1,categories:[],selected:[]}},methods:{async getCategories(){try{this.loading=!0,this.categories=_}catch(t){console.error("Ошибка получения категорий:",t),this.$vs.notification({color:"danger",position:"top-right",title:"Error loading categories"})}finally{this.loading=!1}}}},b=P,x=(a("4be9"),Object(v["a"])(b,l,d,!1,null,"1dcbcdd3",null)),y=x.exports,w={name:"ProductsSidebar",components:{CategorySelect:y},watch:{search(t){this.$emit("update:search",t)},selected_categories(t){this.$emit("update:categories",t)}},data(){return{search:"",selected_categories:[]}}},L=w,k=Object(v["a"])(L,o,n,!1,null,null,null),$=k.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product"},[a("div",{staticClass:"product-image"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:""+t.product.image,expression:"`${product.image}`"}]})]),a("div",{staticClass:"product-info"},[a("div",{staticClass:"product-author"},[t._v(t._s(t.product.author))]),a("div",{staticClass:"product-category"},[t._v(t._s(t.product.category.name))]),a("div",{staticClass:"product-name"},[t._v(t._s(t.product.name))]),a("div",{staticClass:"product-description"},[t._v(t._s(t.product.teaser))]),a("div",{staticClass:"product-price"},[t._v(t._s(t.product.price))]),a("div",{staticClass:"flex ai-center"},[a("AddToCart",{attrs:{product:t.product}}),a("vs-button",{attrs:{to:"/products/"+t.product.id,flat:""}},[t._v("Details")])],1)])])},E=[],j=a("0a34"),O={name:"ProductCard",props:{product:{type:Object,required:!0}},components:{AddToCart:j["a"]}},T=O,A=(a("540d"),Object(v["a"])(T,S,E,!1,null,"3619bcc9",null)),D=A.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-card-placeholder"},[a("div",{staticClass:"image-placeholder"},[a("PlaceholderLine",{attrs:{height:"200px"}})],1),a("div",{staticClass:"info-placeholder"},[a("PlaceholderLine",{staticClass:"m-b-10",attrs:{width:"40%"}}),a("PlaceholderLine",{staticClass:"m-b-5",attrs:{height:"14px",width:"100%"}}),a("PlaceholderLine",{staticClass:"m-b-10",attrs:{height:"14px",width:"40%"}}),a("PlaceholderLine",{staticClass:"m-b-15",attrs:{height:"20px",width:"30%"}}),a("div",{staticClass:"flex gap-10"},[a("PlaceholderLine",{attrs:{height:"30px",width:"30%"}}),a("PlaceholderLine",{attrs:{height:"30px",width:"25%"}})],1)],1)])},z=[],G={name:"ProductCardPlaceholder",components:{PlaceholderLine:p["a"]}},J=G,M=(a("2683"),Object(v["a"])(J,N,z,!1,null,"b02d3510",null)),q=M.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},t._l(t.total_pages,(function(e){return a("div",{key:e,staticClass:"page",class:{active:e==t.current_page},on:{click:function(a){return t.setPage(e)}}},[t._v(t._s(e))])})),0)},B=[],F={name:"Pagination",props:{pagination:Object},computed:{current_page(){return Math.ceil((this.pagination.offset-1)/this.pagination.limit)+1},total_pages(){return Math.ceil(this.pagination.count/this.pagination.limit)}},methods:{setPage(t){t!=this.current_page&&this.$emit("update:pagination",{...this.pagination,offset:this.pagination.limit*(t-1)})}}},H=F,I=(a("e635"),Object(v["a"])(H,W,B,!1,null,"9616f45c",null)),K=I.exports,Q=a("94f6"),R={name:"ProductsList",components:{ProductsSidebar:$,ProductCard:D,ProductCardPlaceholder:q,Pagination:K},created(){this.getProducts()},data(){return{loading:!1,products:[],filters:{search:"",categories:[]},pagination:{count:0,limit:6,offset:0}}},watch:{filters:{deep:!0,handler(){this.debouncedGetProducts()}}},methods:{async getProducts(){try{this.loading=!0,this.products=Q["a"].filter(t=>!this.filters.categories.length||this.filters.categories.includes(t.category.id)).filter(t=>!this.filters.search||t.name.toLowerCase().includes(this.filters.search.toLowerCase()))}catch(t){console.error("Error loading products:",t),this.$vs.notification({color:"danger",position:"top-right",title:"Error loading products"})}finally{this.loading=!1}},debouncedGetProducts:c()((function(){this.pagination.offset=0,this.getProducts()}),1e3)}},U=R,V=(a("824b"),Object(v["a"])(U,i,s,!1,null,"14605416",null));e["default"]=V.exports},d991:function(t,e,a){},e635:function(t,e,a){"use strict";a("4d4c")},e78b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2272e291.38cf89c1.js.map